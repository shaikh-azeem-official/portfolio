<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Birthday Shaikh Azeem!</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&family=Pacifico&family=Dancing+Script:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css" integrity="sha512-2SwdPD6INVrV/lHTZbO2nodKhrnDdJK9/kg2XD1r9uGqPo1cUbujc+IYdlYdEErWNu69gVcYgdxlmVmzTWnetw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <style>
        body {
            font-family: 'Inter', sans-serif;
            overflow-x: hidden;
            background: linear-gradient(135deg, #f0f8ff, #e6e6fa, #ffe4e1);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            position: relative;
        }

        #fireworksCanvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            z-index: 9999;
            pointer-events: none;
        }

        .balloon {
            position: absolute;
            width: 60px;
            height: 80px;
            background-color: #ff69b4;
            border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%;
            bottom: -100px;
            opacity: 0.8;
            animation: floatUp ease-in-out infinite;
            box-shadow: 0 5px 10px rgba(0,0,0,0.2);
            z-index: 10;
        }

        .balloon::before {
            content: '';
            position: absolute;
            width: 2px;
            height: 30px;
            background-color: rgba(0,0,0,0.3);
            bottom: -30px;
            left: 50%;
            transform: translateX(-50%);
        }

        .balloon:nth-child(2n) { background-color: #ffd700; }
        .balloon:nth-child(3n) { background-color: #00bfff; }
        .balloon:nth-child(4n) { background-color: #9400d3; }
        .balloon:nth-child(5n) { background-color: #32cd32; }

        @keyframes floatUp {
            0% { transform: translateY(0) rotate(0deg); opacity: 0.8; }
            50% { transform: translateY(-50vh) rotate(5deg); opacity: 0.6; }
            100% { transform: translateY(-120vh) rotate(-5deg); opacity: 0; }
        }

        .animated-heading span {
            display: inline-block;
            opacity: 0;
            transform: translateY(20px);
            animation: fadeInBounce 1s forwards;
        }

        .animated-heading span:nth-child(1) { animation-delay: 0.1s; }
        .animated-heading span:nth-child(2) { animation-delay: 0.2s; }
        .animated-heading span:nth-child(3) { animation-delay: 0.3s; }
        .animated-heading span:nth-child(4) { animation-delay: 0.4s; }
        .animated-heading span:nth-child(5) { animation-delay: 0.5s; }
        .animated-heading span:nth-child(6) { animation-delay: 0.6s; }
        .animated-heading span:nth-child(7) { animation-delay: 0.7s; }
        .animated-heading span:nth-child(8) { animation-delay: 0.8s; }
        .animated-heading span:nth-child(9) { animation-delay: 0.9s; }
        .animated-heading span:nth-child(10) { animation-delay: 1.0s; }
        .animated-heading span:nth-child(11) { animation-delay: 1.1s; }
        .animated-heading span:nth-child(12) { animation-delay: 1.2s; }
        .animated-heading span:nth-child(13) { animation-delay: 1.3s; }
        .animated-heading span:nth-child(14) { animation-delay: 1.4s; }
        .animated-heading span:nth-child(15) { animation-delay: 1.5s; }
        .animated-heading span:nth-child(16) { animation-delay: 1.6s; }
        .animated-heading span:nth-child(17) { animation-delay: 1.7s; }
        .animated-heading span:nth-child(18) { animation-delay: 1.8s; }
        .animated-heading span:nth-child(19) { animation-delay: 1.9s; }
        .animated-heading span:nth-child(20) { animation-delay: 2.0s; }


        @keyframes fadeInBounce {
            0% { opacity: 0; transform: translateY(20px); }
            60% { opacity: 1; transform: translateY(-10px); }
            100% { opacity: 1; transform: translateY(0); }
        }

        .gift-box {
            position: relative;
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .gift-box:hover {
            transform: scale(1.05);
        }

        .gift-lid {
            transform-origin: bottom center;
            transition: transform 0.5s ease-out;
        }

        .gift-box.open .gift-lid {
            transform: rotateX(90deg);
        }

        .message-box-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 10000;
            backdrop-filter: blur(5px);
            -webkit-backdrop-filter: blur(5px);
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease, visibility 0.3s ease;
        }

        .message-box-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .message-box-content {
            background-color: #fff;
            padding: 1.5rem;
            border-radius: 1rem;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            text-align: center;
            max-width: 90%;
            width: auto;
            animation: popIn 0.3s ease-out;
        }

        @keyframes popIn {
            from { transform: scale(0.8); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }

        .spinner {
            border: 4px solid rgba(0, 0, 0, 0.1);
            border-left-color: #ff69b4;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .cake-button{
            position: relative;
            border: 2px solid #e6e6fa;
            border-radius: 15px;
            padding: 15px 30px;
            font-size: 18px;
            font-family: cursive;
            color: #fff;
            background-color: #00bfff;
            z-index: 999999;
        }
    </style>
</head>
<body class="bg-gradient-to-br from-purple-200 via-pink-200 to-yellow-200 min-h-screen flex flex-col items-center justify-center relative overflow-hidden">
    <canvas id="fireworksCanvas"></canvas>

    <!-- Yaha background music dalo -->
    <audio id="birthdayMusic" loop>
        <source src="home.mp3" type="audio/mpeg">
    </audio>

    <button id="musicToggle" class="fixed top-5 right-13 bg-purple-500 text-white p-3 rounded-full shadow-lg hover:bg-purple-600 transition-all duration-300 z-[10001] overflow-hidden flex items-center justify-center">
        <i class="fa-solid fa-music"></i>
        <svg id="musicOffIcon" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 hidden" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636" />
        </svg>
    </button>

    <div class="relative z-20 w-full max-w-full sm:max-w-4xl mx-auto px-4 py-6 sm:px-6 sm:py-8 md:p-8 bg-white bg-opacity-80 rounded-3xl shadow-2xl backdrop-blur-sm flex flex-col items-center justify-center space-y-5 sm:space-y-6 md:space-y-8 my-6 sm:my-8">
        <h1 class="text-3xl sm:text-4xl md:text-7xl font-['Pacifico'] text-center text-pink-600 drop-shadow-lg animated-heading mb-3 sm:mb-4 md:mb-8 leading-tight">
            <span>H</span><span>a</span><span>p</span><span>p</span><span>y</span>&nbsp;
            <span>B</span><span>i</span><span>r</span><span>t</span><span>h</span><span>d</span><span>a</span><span>y</span>&nbsp;
            <span>J</span><span>a</span><span>a</span><span>n</span><span>ðŸŽ‰</span>
        </h1>
        <!-- Name of Birtday persone  -->

        <!-- First photo yaha pe dalna hai persone ki -->
        <div class="w-32 h-32 sm:w-40 sm:h-40 md:w-64 md:h-64 rounded-full overflow-hidden border-4 sm:border-6 md:border-8 border-yellow-400 shadow-xl transform transition-transform duration-300 hover:scale-110 cursor-pointer" id="azeemPhotoContainer">
            <img id="azeemPhoto" src="4.jpg" alt="BirthdayPersone class="w-full h-full object-cover">
        </div>
        <p class="text-sm sm:text-base text-gray-700 text-center mt-2">Click on your photo for a surprise!</p>
        <div class="flex flex-col items-center space-y-3 mt-5 sm:mt-6">
            <h2 class="text-xl sm:text-2xl font-['Dancing_Script'] text-purple-700 text-center">Open Your Gift!</h2>
            <div id="giftBox" class="gift-box w-24 h-24 sm:w-28 sm:h-28 md:w-48 md:h-48 relative">
                <div class="absolute inset-0 bg-red-500 rounded-lg shadow-lg"></div>
                <div class="gift-lid absolute top-0 left-0 w-full h-1/4 bg-red-600 rounded-t-lg shadow-xl"></div>
                <div class="absolute inset-y-0 left-1/2 -ml-2 w-4 bg-yellow-300"></div>
                <div class="absolute inset-x-0 top-1/2 -mt-2 h-4 bg-yellow-300"></div>
            </div>
            <p class="text-sm sm:text-base text-gray-700 text-center">Click the gift box to reveal a message!</p>
        </div>
    </div>

    <div id="messageBoxOverlay" class="message-box-overlay">
        <div class="message-box-content">
            <h3 id="messageBoxTitle" class="text-lg sm:text-xl font-bold text-gray-800 mb-3"></h3>
            <p id="messageBoxText" class="text-sm sm:text-base text-gray-600 mb-4"></p>
            <button id="messageBoxCloseBtn" class="bg-pink-500 text-white px-4 py-2 rounded-full shadow-md hover:bg-pink-600 transition-all duration-300 text-sm sm:text-base">Click again</button>
        </div>
    </div>

    <a href="cake33.html" class="cake-button">See Your Surprise!</a>

    <script>
        // Display custom messages
        function showMessageBox(title, message) {
            const overlay = document.getElementById('messageBoxOverlay');
            document.getElementById('messageBoxTitle').textContent = title;
            document.getElementById('messageBoxText').textContent = message;
            overlay.classList.add('active');
        }

        document.getElementById('messageBoxCloseBtn').addEventListener('click', () => {
            document.getElementById('messageBoxOverlay').classList.remove('active');
        });

        // Background Music Toggle
        const birthdayMusic = document.getElementById('birthdayMusic');
        const musicToggleBtn = document.getElementById('musicToggle');
        const musicIcon = document.getElementById('musicIcon');
        const musicOffIcon = document.getElementById('musicOffIcon');
        let isMusicPlaying = false;

        musicToggleBtn.addEventListener('click', () => {
            if (isMusicPlaying) {
                birthdayMusic.pause();
                musicIcon.classList.remove('hidden');
                musicOffIcon.classList.add('hidden');
            } else {
                birthdayMusic.play().catch(e => console.error("Music playback failed:", e));
                musicIcon.classList.add('hidden');
                musicOffIcon.classList.remove('hidden');
            }
            isMusicPlaying = !isMusicPlaying;
        });

        // Autoplay music after user interaction
        document.body.addEventListener('click', () => {
            if (!isMusicPlaying) {
                birthdayMusic.play().then(() => {
                    isMusicPlaying = true;
                    musicIcon.classList.add('hidden');
                    musicOffIcon.classList.remove('hidden');
                }).catch(e => console.error("Autoplay music failed:", e));
            }
        }, { once: true });


        // photos ki links dalo niche 4
        const azeemPhotoContainer = document.getElementById('azeemPhotoContainer');
        const azeemPhoto = document.getElementById('azeemPhoto');
        const azeemPhotos = [
            "4.jpg",
            "6done.jpg",
            "2.jpg",
        ];
        let currentPhotoIndex = 0;

        azeemPhotoContainer.addEventListener('click', () => {
            currentPhotoIndex = (currentPhotoIndex + 1) % azeemPhotos.length;
            azeemPhoto.src = azeemPhotos[currentPhotoIndex];
            showMessageBox('Miss Shaista', 'âœ¨ A little late, but my wishes are forever true â€” Happy Belated Birthday to you ðŸŽ‰');
        });

        // Fireworks Logic
        const fireworksCanvas = document.getElementById('fireworksCanvas');
        const ctx = fireworksCanvas.getContext('2d');
        let particles = [];
        let fireworkInterval;

        function resizeCanvas() {
            fireworksCanvas.width = window.innerWidth;
            fireworksCanvas.height = window.innerHeight;
        }

        window.addEventListener('resize', resizeCanvas);
        resizeCanvas();

        class Particle {
            constructor(x, y, color, velocity, isFirework = true) {
                this.x = x;
                this.y = y;
                this.color = color;
                this.velocity = velocity;
                this.alpha = 1;
                this.friction = 0.99;
                this.gravity = isFirework ? 0.05 : 0;
                this.radius = isFirework ? Math.random() * 3 + 2 : 3;
                this.isFirework = isFirework;
            }

            draw() {
                ctx.save();
                ctx.globalAlpha = this.alpha;
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2);
                ctx.fillStyle = this.color;
                ctx.fill();
                ctx.restore();
            }

            update() {
                if (this.isFirework) {
                    this.velocity.x *= this.friction;
                    this.velocity.y *= this.friction;
                    this.velocity.y += this.gravity;
                    this.alpha -= 0.005; // Fade slower
                }

                this.x += this.velocity.x;
                this.y += this.velocity.y;
            }
        }

        function createFirework(x, y) {
            const hue = Math.random() * 360;
            const color = `hsl(${hue}, 100%, 50%)`;

            const explosionCount = 80;
            for (let i = 0; i < explosionCount; i++) {
                const angle = Math.random() * Math.PI * 2;
                const speed = Math.random() * 8 + 1;
                particles.push(new Particle(
                    x,
                    y,
                    `hsl(${hue + (Math.random() * 40 - 20)}, 100%, 50%)`, // Slightly varied hue
                    { x: Math.cos(angle) * speed, y: Math.sin(angle) * speed },
                    true // isFirework = true (sparks)
                ));
            }
        }

        function animateFireworks() {
            if (particles.length > 0) {
                ctx.fillStyle = 'rgba(0, 0, 0, 0.05)';
                ctx.fillRect(0, 0, fireworksCanvas.width, fireworksCanvas.height);
            } else {
                ctx.clearRect(0, 0, fireworksCanvas.width, fireworksCanvas.height);
            }

            for (let i = particles.length - 1; i >= 0; i--) {
                const p = particles[i];
                p.update();
                p.draw();

                if (p.alpha <= 0.05 || p.radius < 0.5) {
                    particles.splice(i, 1);
                }
            }
            requestAnimationFrame(animateFireworks);
        }

        // Function to trigger multiple fireworks
        function triggerMultipleFireworks() {
            let fireworkCount = 0;
            fireworkInterval = setInterval(() => {
                if (fireworkCount < 10) { // Launch 10 fireworks
                    createFirework(
                        Math.random() * fireworksCanvas.width,
                        Math.random() * fireworksCanvas.height * 0.7 // Upper 70% of screen
                    );
                    fireworkCount++;
                } else {
                    clearInterval(fireworkInterval);
                }
            }, 1000); // Launch a firework every 0.5 seconds
        }

        // Start the animation loop
        animateFireworks();

        // Gift Box Interaction - Now triggers fireworks!
        const giftBox = document.getElementById('giftBox');
        giftBox.addEventListener('click', () => {
            giftBox.classList.toggle('open');
            if (giftBox.classList.contains('open')) {
                showMessageBox('surprise wish', 'I wasnâ€™t lateâ€¦ I just gave you an extended birthday edition! ðŸŽðŸŽ‚');
                triggerMultipleFireworks(); // Launch fireworks when gift opens
            } else {
                showMessageBox('Click', 'Click again to read the message!');
            }
        });

        // Flying Balloons Logic
        function createBalloon() {
            const balloon = document.createElement('div');
            balloon.className = 'balloon';
            balloon.style.left = `${Math.random() * 50}vw`; // Random horizontal position
            balloon.style.animationDuration = `${Math.random() * 5 + 7}s`; // 7-12 seconds
            balloon.style.animationDelay = `${Math.random() * 5}s`; // Stagger start times
            document.body.appendChild(balloon);

            // Remove balloon after it floats away to prevent DOM clutter
            balloon.addEventListener('animationend', () => {
                balloon.remove();
            });
        }

        // Generate a continuous stream of balloons (increased frequency)
        let balloonInterval = setInterval(createBalloon, 500); // Create a new balloon every 0.5 seconds (was 1 second)

        // Clear interval when page is hidden to save resources
        document.addEventListener('visibilitychange', () => {
            if (document.hidden) {
                clearInterval(balloonInterval);
            } else {
                balloonInterval = setInterval(createBalloon, 500);
            }
        });

    </script>
</body>
</html>